<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recommandations de Fournisseurs Durables</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <h1>Eco<span>VISION</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="/"><i class="fas fa-home"></i> Accueil</a></li>
                    <li><a href="/recommendations" class="active"><i class="fas fa-award"></i> Recommandations</a></li>
                    <li><a href="#" id="analysisBtn"><i class="fas fa-brain"></i> Analyse IA</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="recommendations-page">
        <div class="page-header">
            <h2>Recommandations de Fournisseurs Durables</h2>
            <p>Découvrez les fournisseurs les plus durables selon notre système d'évaluation basé sur plusieurs critères environnementaux et sociaux.</p>
        </div>

        <div class="filters-container">
            <h3>Filtres</h3>
            <div class="filters">
                <div class="filter-group">
                    <label for="minScore">Score minimum:</label>
                    <input type="range" id="minScore" min="0" max="100" value="0" step="5">
                    <span id="minScoreValue">0</span>
                </div>
                <div class="filter-group">
                    <label for="minRenewable">Énergie renouvelable min (%):</label>
                    <input type="range" id="minRenewable" min="0" max="100" value="0" step="5">
                    <span id="minRenewableValue">0</span>
                </div>
                <div class="filter-group">
                    <label for="transport">Type de transport:</label>
                    <select id="transport">
                        <option value="all">Tous</option>
                        <option value="electric">Électrique</option>
                        <option value="hybrid">Hybride</option>
                        <option value="rail">Ferroviaire</option>
                        <option value="ship">Maritime</option>
                        <option value="truck">Camion</option>
                        <option value="air">Aérien</option>
                    </select>
                </div>
                <button id="applyFilters" class="btn primary-btn">Appliquer les filtres</button>
            </div>
        </div>


        <div class="suppliers-container">
            <h3>Fournisseurs recommandés</h3>
            <div id="suppliersLoading" class="loading">
                <div class="spinner"></div>
                <p>Chargement des recommandations...</p>
            </div>
            <div id="suppliersGrid" class="suppliers-grid"></div>
        </div>
    </main>

    <!-- Modal pour l'analyse IA -->
    <div id="aiAnalysisModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2><i class="fas fa-brain"></i> Analyse IA des fournisseurs durables</h2>
            <div class="loader" id="analysisLoader">
                <div class="spinner"></div>
                <p>Analyse en cours...</p>
            </div>
            <div id="analysisContent" class="analysis-content"></div>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <div class="footer-logo">
                <i class="fas fa-leaf"></i>
                <h2>Eco<span>VISION</span></h2>
            </div>
            <div class="footer-links">
                <h3>Liens rapides</h3>
                <ul>
                    <li><a href="/">Accueil</a></li>
                    <li><a href="/recommendations">Recommandations</a></li>
                    <li><a href="#">À propos</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <h3>Contact</h3>
                <p><i class="fas fa-envelope"></i> contact@ecovision.com</p>
                <p><i class="fas fa-phone"></i> +216 1 23 45 67 89</p>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 ECOVISION. Tous droits réservés.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/recommendations.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
</body>
</html>